import device from './device';

export default function setDocumetTitle(title: string): void {
  if (!title) {
    console.warn('标题为空，请设置Page.pageName');
  }

  if (device.system === 'ios') {
    const iframe = document.createElement('iframe');
    iframe.style.cssText = 'display: none';
    iframe.src = 'https://wap.yuejia100.cn/changeTitle.html';
    iframe.onload = function(): void {
      setTimeout(function(): void {
        document.body.removeChild(iframe);
      }, 100);
    };
    document.body.appendChild(iframe);
  }

  document.title = title;
}