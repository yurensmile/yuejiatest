import { argv } from 'yargs';
import createRouter from './router';
import createDir from './dir';
import { pageSass, pageComponent } from './templete';
require('colors');

export default function(): void {
  const name = argv.name;
  const fileName = name.substr(name.lastIndexOf('/') + 1);
  createDir('./src', []);
  createDir('./src/app', []);
  createDir('./src/app/view', []);
  createDir('./src/app/view/pages', []);
  createDir('./src/app/view/pages/' + name, [{
    writeFileName: '/index.scss',
    writeContent: pageSass()
  }, {
    writeFileName: '/index.tsx',
    writeContent: pageComponent(fileName)
  }]);
  createRouter('');
  console.log(`${fileName}页面创建成功`.green);
}